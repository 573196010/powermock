== Writing tests ==

Write a test like this:

{{{
@RunWith(PowerMockRunner.class)
@PrepareForTest( { YourClassWithEgStaticMethod.class })
public class YourTestCase {
...
}
}}}

Sample code is available in subversion:
 * [http://code.google.com/p/powermock/source/browse/trunk/modules/module-test/powermock/junit4-test/src/test/java/samples.junit4/singleton/MockStaticTest.java Mocking static methods]
 * [http://code.google.com/p/powermock/source/browse/trunk/modules/module-test/powermock/junit4-test/src/test/java/org/powermock/modules/junit4/expectnew/ExpectNewDemoTest.java Expect new instance]
 * [http://code.google.com/p/powermock/source/browse/trunk/modules/module-test/powermock/junit4-test/src/test/java/org/powermock/modules/junit4/suppressconstructor/SuppressConstructorDemoTest.java Suppress constructor]

JUnit 3 requires a different setup by creating a suite, since test runners are not available. Please view some examples:
 * [http://code.google.com/p/powermock/source/browse/trunk/modules/module-test/powermock/junit3-test/src/test/java/org/powermock/modules/junit3/privateandfinal/PrivateFinalTest.java Mocking private methods with JUnit 3]


== Maven setup ==

 Add the following to your pom.xml if you're using JUnit 4.4 or above:

{{{
<repositories>
   <repository>
      <id>powermock-repo</id>
      <url>http://powermock.googlecode.com/svn/repo/</url>
   </repository>
</repositories>
<dependencies>
   <dependency>
      <groupId>org.powermock.modules</groupId>
      <artifactId>powermock-module-junit4</artifactId>
      <version>1.0</version>
      <scope>test</scope>
   </dependency>
   <dependency>
      <groupId>org.easymock</groupId>
      <artifactId>easymockclassextension</artifactId>
      <version>2.4</version>
      <scope>test</scope>
   </dependency>
<dependencies>
}}}

 Add the following to your pom.xml if you're using JUnit 4.0-4.3:

{{{
<repositories>
   <repository>
      <id>powermock-repo</id>
      <url>http://powermock.googlecode.com/svn/repo/</url>
   </repository>
</repositories>
<dependencies>
   <dependency>
      <groupId>org.powermock.modules</groupId>
      <artifactId>powermock-module-junit4-legacy</artifactId>
      <version>1.0</version>
      <scope>test</scope>
   </dependency>
   <dependency>
      <groupId>org.easymock</groupId>
      <artifactId>easymockclassextension</artifactId>
      <version>2.4</version>
      <scope>test</scope>
   </dependency>
<dependencies>
}}}

 Add the following to your pom.xml if you're using JUnit 3:

{{{
<repositories>
   <repository>
      <id>powermock-repo</id>
      <url>http://powermock.googlecode.com/svn/repo/</url>
   </repository>
</repositories>
<dependencies>
   <dependency>
      <groupId>org.powermock.modules</groupId>
      <artifactId>powermock-module-junit3</artifactId>
      <version>1.0</version>
      <scope>test</scope>
   </dependency>
   <dependency>
      <groupId>org.easymock</groupId>
      <artifactId>easymockclassextension</artifactId>
      <version>2.4</version>
      <scope>test</scope>
   </dependency>
<dependencies>
}}}

== Non maven users ==
 
 Download the [http://powermock.googlecode.com/files/powermock-1.0-with-dependencies.zip zipfile] with PowerMock and all its dependencies and add those to your project.

 You could also download the jar file with all PowerMock code in a single file and then download the dependencies separately.